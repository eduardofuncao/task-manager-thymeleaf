<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <title>Task Manager</title>
</head>
<body>
<div th:fragment="content">
    <div class="container mt-4">
        <div th:replace="fragments/header :: header"></div>
        <div class="row mb-4">
            <div class="col">
                <h2>Bem-vindo, <span th:text="${user.name}"></span>!</h2>
                <p class="text-muted">O que você gostaria de fazer hoje?</p>
            </div>
        </div>

        <div class="row">
            <!-- Admin Cards -->
            <div sec:authorize="hasRole('ADMIN')" class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <i class="bi bi-people fs-1 text-primary mb-3"></i>
                        <h5 class="card-title">Cadastrar Usuários</h5>
                        <p class="card-text">Cadastre usuário ao sistema</p>
                        <a th:href="@{/register}" class="btn btn-primary">Acessar</a>
                    </div>
                </div>
            </div>

            <div sec:authorize="hasRole('ADMIN')" class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <i class="bi bi-graph-up fs-1 text-success mb-3"></i>
                        <h5 class="card-title">Relatórios</h5>
                        <p class="card-text">Visualize estatísticas e relatórios de produtividade.</p>
                        <a th:href="@{/reports}" class="btn btn-success">Acessar</a>
                    </div>
                </div>
            </div>

            <!-- Manager Cards -->
            <div sec:authorize="hasRole('MANAGER')" class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <i class="bi bi-list-task fs-1 text-primary mb-3"></i>
                        <h5 class="card-title">Gerenciar Tarefas</h5>
                        <p class="card-text">Crie, edite e gerencie as tarefas da sua equipe.</p>
                        <a th:href="@{/tasks}" class="btn btn-primary">Acessar</a>
                    </div>
                </div>
            </div>

            <div sec:authorize="hasRole('MANAGER')" class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <i class="bi bi-plus-circle fs-1 text-success mb-3"></i>
                        <h5 class="card-title">Nova Tarefa</h5>
                        <p class="card-text">Crie uma nova tarefa para atribuir a um colaborador.</p>
                        <a th:href="@{/tasks/new}" class="btn btn-success">Criar</a>
                    </div>
                </div>
            </div>

            <div sec:authorize="hasRole('MANAGER')" class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <i class="bi bi-graph-up fs-1 text-info mb-3"></i>
                        <h5 class="card-title">Relatórios</h5>
                        <p class="card-text">Visualize estatísticas de desempenho da sua equipe.</p>
                        <a th:href="@{/reports}" class="btn btn-info">Acessar</a>
                    </div>
                </div>
            </div>

            <!-- Collaborator Cards -->
            <div sec:authorize="hasRole('COLLABORATOR')" class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <i class="bi bi-list-task fs-1 text-primary mb-3"></i>
                        <h5 class="card-title">Minhas Tarefas</h5>
                        <p class="card-text">Visualize e atualize o status das suas tarefas.</p>
                        <a th:href="@{/tasks}" class="btn btn-primary">Acessar</a>
                    </div>
                </div>
            </div>

            <!-- Profile Card (For All) -->
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <i class="bi bi-person-circle fs-1 text-secondary mb-3"></i>
                        <h5 class="card-title">Meu Perfil</h5>
                        <p class="card-text">Visualize e edite suas informações pessoais.</p>
                        <a th:href="@{/profile}" class="btn btn-secondary">Acessar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
